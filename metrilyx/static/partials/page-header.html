<div class="page-model-header edit-comp{{editMode}}">
	<div class="row padb5" style="margin:0;border-bottom:1px solid #bbb">
		<div class="col-md-4" style="padding:0;">
			<span class="dropdown">
				<span class="pointer interactive dropdown-toggle marginl10" style="font-size:18px;color:#666;position:relative;top:2px;" data-toggle="dropdown">
					<i class="glyphicon glyphicon-cog"></i>
				</span>
				<ul class="dropdown-menu page-controls bottom-shadow" role="menu">
					<li ng-if="editMode === ''" title="Edit">
						<a href="javascript:void(0)" ng-click="toggleEditMode()">
							<span class="padr5"><i class="glyphicon glyphicon-edit"></i></span>
							<span>Edit</span>
						</a>
					</li>
					<li ng-if="editMode === ' edit-mode'" title="Edit">
						<a href="javascript:void(0)" ng-click="toggleEditMode()">
							<span class="padr5"><i class="glyphicon glyphicon-ban-circle"></i></span>
							<span>Cancel</span>
						</a>
					</li>
					<li title="Export">
						<a ng-if="modelType===''" href="/api/graphmaps/{{model._id}}?export=true" target="_blank" download="{{model._id}}.json">
							<span class="padr5"><i class="glyphicon glyphicon-cloud-download"></i></span>
							<span>Export</span>	
						</a>
						<a ng-if="modelType==='heatmap/'" href="/api/heatmaps/{{model._id}}?export=true" target="_blank" download="{{model._id}}.json">
							<span class="padr5"><i class="glyphicon glyphicon-cloud-download"></i></span>
							<span>Export</span>	
						</a>
					</li>
				</ul>
			</span>
		</div>
		<!-- Page Name/ID -->
		<div ng-if="modelType!=='adhoc'" class="col-md-4 text-center" style="padding:0">
				<div class="row">
					<div class="col-md-12" style="padding:0px">
						<input type="text" ng-model="model.name" class="edit-comp{{editMode}}" placeholder="Page Name" title="Page Name" required>
						<input type="text" ng-model="model._id" class="edit-comp{{editMode}}" placeholder="Page ID" required style="min-width: 40px;" title="Page ID" page-id>
					</div>
				</div>
		</div>
		<div ng-if="modelType==='adhoc'" class="col-md-4 text-center" style="padding:0">
			<div class="padt5">
			<div class="row" style="margin:0;font-size:12px;">
				<div class="col-md-12">
					<span class="padlr5">
						<span style="color:#888">Type :</span>
						<select ng-model="graph.graphType" class="select-input borderless" style="font-size:13px;color:#555;">
							<option value="area">area</option>
							<option value="line">line</option>
							<option value="pie">pie</option>
							<option value="spline">spline</option>
							<option value="stacked">stacked</option>
						</select>
					</span>
					<span class="padlr5">
						<span style="color:#888">Size :</span>
						<select ng-model="graph.size" ng-change="graphSizeChanged()" class="select-input borderless" style="font-size:13px;color:#555;">
							<option value="small">small</option>
							<option value="medium">medium</option>
							<option value="large">large</option>
						</select>
					</span>
				</div>
			</div>
			</div>
		</div>
		<!-- page tags -->
		<div class="col-md-4 text-right" style="padding:0;">
			<div ng-if="modelType!=='adhoc'" class="tags-panel edit-comp{{editMode}}">
				<div class="padlr5" style="border-bottom:1px solid #aaa;padding-bottom:3px">
					<div class="row" style="margin:0;color:#666">
						<div class="col-md-6 text-left" style="padding:0">
							<span><b>Tags</b></span>
						</div>
						<div class="col-md-6 text-right" style="padding:0">
							<span class="interactive pointer" data-toggle="modal" data-target="#add-page-tag">
								<i class="glyphicon glyphicon-plus" style="font-size: 12px;"></i>
							</span>	
						</div>
					</div>
				</div>
				<div class="text-left padt10 padlr5" style="border-top: 1px solid #fff">
					<span ng-repeat="tag in model.tags" class="page-tag">
						<span class="interactive pointer" title="Remove tag" ng-click="model.tags.splice(models.tags.indexOf(tag),1)">
							<i class="glyphicon glyphicon-remove" style="font-size: 12px;"></i>
						</span>
						<span>{{tag}}</span>
					</span>
				</div>
			</div>
		</div>
	</div><!-- END .row -->
	<div class="row" style="padding:0;margin:0;border-top:1px solid #fff" ng-if="editMode===''">
		<div class="col-md-4 text-left" style="padding:0;padding-top:10px;">
			<div class="marginl10">
				<span style="font-size:13px;font-weight:bold" class="pointer interactive" onclick="$(this).next().children().toggle()">
					<span>Annotations</span>
					<span class="caret"></span>
				</span>
				<ng-include src="annoControlsHtml"></ng-include>
			</div>
		</div>
		<div class="col-md-4 text-center" style="padding:0">
			<div ng-if="modelType==''" id="global-tags" title="Tags to be applied to all graphs. These tags do not get saved with the model." style="margin-top:5px;">
				<input type="text" ng-model="globalTags" key-value-pairs id="global-tags-input">
				<button id="global-tags-btn" type="button" ng-click="setGlobalTags(globalTags)" class="interactive">
					<i class="glyphicon glyphicon-ok interactive" style="color:#666"></i>
				</button>
			</div>
		</div>
		<div class="col-md-4 text-right" style="padding:0;">
			<div ng-if="(modelType==='adhoc')||(modelType!=='heatmap/')" style="padding-top:5px;">
				<span class="animated select-container left-caret">
					<span class="caret"></span>
					<select ng-model="timeType" relative-time="true" class="time interactive">
		            	<option value="24h-ago">24 hours</option>
		            	<option value="12h-ago">12 hours</option>
		            	<option value="6h-ago">6 hours</option>
		            	<option value="3h-ago">3 hours</option>
		            	<option value="2h-ago">2 hours</option>
		            	<option value="1h-ago">1 hour</option>
		            	<option value="absolute">Custom</option>
		            </select>
	            </span>
				<span id="absolute-time" class="time animated btn-group btn-group-sm {{timeType}}">
					<span ng-model="startTime" date-time class="btn btn-default interactive absolute-time-field">
						<span>
							<i class="glyphicon glyphicon-calendar"></i>
						</span>
						<span style="padding-left:5px;">{{startTime|dateTime}}</span>
	                </span>
	                <span ng-model="endTime" date-time class="btn btn-default interactive absolute-time-field">
	                	<span><i class="glyphicon glyphicon-calendar"></i></span>
	                	<span style="padding-left:5px;">{{endTime|dateTime}}</span>
	                </span>
	                <button class="btn btn-default interactive" style="padding-top:8px;padding-bottom:8px;" ng-click="setAbsoluteTime()" title="Apply">
	                	<i class="glyphicon glyphicon-ok"></i>
	                </button>
	            </span>
            </div>
		</div>
	</div>
	<div ng-if="editMode==''||modelType==='adhoc'">
			<div ng-repeat="(tagname, tagvalues) in tagsOnPage" class="btn-group">
			  <span class="pointer interactive dropdown-toggle pad5" data-toggle="dropdown">
				<span class="small">
					<span class="padr5">{{tagname}}</span><span class="caret"></span>
				</span>
			  </span>
			  <ul class="dropdown-menu noshadow result-tags bottom-shadow small" role="menu">
			    <li ng-repeat="tagvalue in tagvalues|orderBy:'toString()'">
			    	<a href="javascript:void(0)" ng-click="updateGlobalTag(tagname, tagvalue);">{{tagvalue}}</a>
			    </li>
			  </ul>
			</div>
	</div>
</div>